<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <title>Detalii produs</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; background: #fffaf0; padding: 20px; border-radius: 10px; }
    img { max-width: 100%; border-radius: 10px; }
    h1 { color: #27ae60; margin-bottom: 10px; }
    p.desc { font-size: 1em; color: #555; margin-bottom: 15px; }
    .price { font-weight: bold; font-size: 1.4em; color: #e67e22; margin-bottom: 20px; }
    label, input {
      font-size: 1em;
    }
    input[type=number] {
      width: 60px;
      padding: 5px;
      margin-right: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background: #27ae60;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #219150;
    }
    a {
      display: inline-block;
      margin-top: 20px;
      color: #2980b9;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    #msg {
      margin-top: 15px;
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div id="product-container"></div>

<a href="index.html">← Înapoi la catalog</a>

<script>
  const products = [
    {id: 1, name: "Trandafiri Roșii", desc: "Buchet de 12 trandafiri roșii proaspeți.", price: 90, img: "https://i.imgur.com/MGJ6h8E.jpg"},
    {id: 2, name: "Lalele Colorate", desc: "Buchet cu 15 lalele multicolore.", price: 75, img: "https://i.imgur.com/ku2pQbY.jpg"},
    {id: 3, name: "Orhidee Albă", desc: "Plantă orhidee albă în ghiveci elegant.", price: 120, img: "https://i.imgur.com/6T9CVQD.jpg"},
    {id: 4, name: "Buchet Mix", desc: "Mix de flori de sezon în nuanțe pastel.", price: 85, img: "https://i.imgur.com/ftNCKQE.jpg"},
    {id: 5, name: "Crizanteme Galbene", desc: "Buchet crizanteme galbene vesele.", price: 70, img: "https://i.imgur.com/9dFglix.jpg"}
  ];

  const urlParams = new URLSearchParams(window.location.search);
  const id = Number(urlParams.get('id'));
  const product = products.find(p => p.id === id);

  const container = document.getElementById('product-container');

  if (!product) {
    container.innerHTML = "<p>Produsul nu a fost găsit.</p>";
  } else {
    container.innerHTML = `
      <h1>${product.name}</h1>
      <img src="${product.img}" alt="${product.name}">
      <p class="desc">${product.desc}</p>
      <div class="price">${product.price} RON</div>
      <label for="qty">Cantitate:</label>
      <input type="number" id="qty" value="1" min="1" />
      <button id="addToCart">Adaugă în coș</button>
      <div id="msg"></div>
      <p><a href="checkout.html">Mergi la finalizare comandă →</a></p>
    `;
  }

  document.getElementById('addToCart')?.addEventListener('click', () => {
    const qty = parseInt(document.getElementById('qty').value);
    if (qty < 1 || isNaN(qty)) {
      alert("Introduceți o cantitate validă.");
      return;
    }

    let cart = JSON.parse(localStorage.getItem('cart')) || {};
    if (cart[id]) {
      cart[id].qty += qty;
    } else {
      cart[id] = {
        name: product.name,
        price: product.price,
        qty: qty
      };
    }
    localStorage.setItem('cart', JSON.stringify(cart));

    const msg = document.getElementById('msg');
    msg.textContent = "Produs adăugat în coș!";
    setTimeout(() => { msg.textContent = ""; }, 3000);
  });
</script>

</body>
</html>
